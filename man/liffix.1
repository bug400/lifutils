.TH liffix 1 03-November-2024 "LIF Utilities" "LIF Utilities"
.SH NAME
liffix \- fixes the medium size information in the volume header of a LIF image file
.SH SYNOPSIS
.B lifutils liffix
\-m 
.I MEDIUMTYPE
[-p]
.I LIFIMAGE
.PP
.B lifutils liffix \-?
.SH DESCRIPTION
The volume header of the LIF file system contains information about the size of the volume specified by the numbers of tracks per surface, number of surfaces and number of blocks per track. Some HP-IL controller do not initialize this values correctly which might worry software that works with LIF image files.  The medium size of the LIF image file can be checked with the
.I lifstat
program.
.B liffix
repairs the volume header of a LIF image file specified by the command line parameter 
.I LIFIMAGE.
.SH OPTIONS
.TP
.I \-m
This mandatory option specifies the medium type. The following medium types
are supported:
.RS
cass:    Initializes a medium with the size of a HP82161A cassette
.RE
.RS
disk:    Initializes a medium with the size of a HP9114B double sided disk
.RE
.RS
hdrive1: Initializes a medium with the size of a 640 KB disk
.RE
.RS
hdrive2: Initializes a medium with the size of a 2 MB disk
.RE
.RS
hdrive4: Initializes a medium with the size of a 4 MB disk
.RE
.RS
hdrive8: Initializes a medium with the size of a 8 MB disk
.RE
.RS
hdrive16: Initializes a medium with the size of a 16 MB disk
.RE
.TP
.I \-p
Fix a LIF file system on a floppy disk. Note: this option is only supported on LINUX. Specify the floppy device instead of the lif-image-filename. See the LIFUTILS tutorial for details.
.TP
.I \-?
Print a message giving the program usage to standard error.
.SH EXAMPLES
If 
.I disk1.dat
is a LIF image file with improper medium size information then
.PP
.B lifutils liffix -m disk disk1.dat
.PP
will fix the medium size information of
.I disk1.dat
The header is fixed with the parameters of the HP9114B double sided disk
medium.
.PP
Note: a check is performed if the content of the image file fits to the
size of the medium.
.SH REFERENCES
The LIF disk format is documented in the
.I HP\-IL Interface Owners Manual for the HP\-71 (Hewlett\-Packard)
with further details (particularly HP41 and HP75 file types) in the 
.I HP\-41 Synthetic Quick Reference Guide (Jeremy Smith)
.SH AUTHOR
.B liffix
was written by Joachim Siebold, bug400@gmx.de  using code from Tony Duell, 
ard@p850ug1.demon.co.uk and has been placed under the GNU Public 
License version 2.0
